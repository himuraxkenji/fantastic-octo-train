<div class="container mt-2" ng-controller="articulo">

  <div class="row mt-4">
    <button class="col-1 btn btn-default" (click)="backPage()" title="volver">
      <svg width="50" height="50" viewBox="0 0 20 20">
        <path
          d="M11.302 6.776c-0.196-0.197-0.515-0.197-0.71 0l-2.807 2.865c-0.196 0.199-0.196 0.52 0 0.717l2.807 2.864c0.195 0.199 0.514 0.198 0.71 0 0.196-0.197 0.196-0.518 0-0.717l-2.302-2.505 2.302-2.506c0.196-0.198 0.196-0.518 0-0.718zM10 0.4c-5.302 0-9.6 4.298-9.6 9.6 0 5.303 4.298 9.6 9.6 9.6s9.6-4.297 9.6-9.6c0-5.302-4.298-9.6-9.6-9.6zM10 18.354c-4.615 0-8.354-3.74-8.354-8.354s3.739-8.354 8.354-8.354c4.613 0 8.354 3.74 8.354 8.354s-3.741 8.354-8.354 8.354z"></path>
      </svg>
    </button>
    <h1 class="text-center col-11" title="Articulo">
      <svg width="50" height="50" viewBox="0 0 32 32">
        <path d="M12 29c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z"></path>
        <path d="M32 29c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z"></path>
        <path
          d="M32 16v-12h-24c0-1.105-0.895-2-2-2h-6v2h4l1.502 12.877c-0.915 0.733-1.502 1.859-1.502 3.123 0 2.209 1.791 4 4 4h24v-2h-24c-1.105 0-2-0.895-2-2 0-0.007 0-0.014 0-0.020l26-3.98z"></path>
      </svg>
      LISTA DE ARTICULOS
    </h1>
  </div>

  <div class="row mt-4 ml-4">
    <div class=" form-inline form-group col-md-4 ">

      <label for="inputNombre" class="form-label mr-2">NOMBRE </label>
      <input type="text" [(ngModel)]="busqueda" class="form-control" placeholder="Ingrese nombre"
             (keyup)="filtrarArticuloNombre(event)" id="inputNombre">
    </div>
    <div class="col-md-4 form-inline form-group  ">
      <label for="inputCodigo" class="form-label mr-2">CODIGO </label>
      <input type="text " [(ngModel)]="busquedaCodigo" class="form-control"
             placeholder="ingrese cÃ³digo " (keyup)="filtrarArticuloCodigo(event)" id="inputCodigo">
    </div>
    <div class="col-md-4 form-group form-inline">
      <button class="btn btn-warning " [routerLink]="['/compras/agregar-articulo']"
              routerLinkActive="router-link-active" title="Articulo">
        <svg width="20 " height="20 " viewBox="0 0 32 32 ">
          <path d="M12 29c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z "></path>
          <path d="M32 29c0 1.657-1.343 3-3 3s-3-1.343-3-3c0-1.657 1.343-3 3-3s3 1.343 3 3z "></path>
          <path
            d="M32 16v-12h-24c0-1.105-0.895-2-2-2h-6v2h4l1.502 12.877c-0.915 0.733-1.502 1.859-1.502 3.123 0 2.209 1.791 4 4 4h24v-2h-24c-1.105 0-2-0.895-2-2 0-0.007 0-0.014 0-0.020l26-3.98z "></path>
        </svg>
        NUEVO ARTICULO
      </button>
    </div>

  </div>

  <div class="row ml-4">
    <div class="col-md-4 form-group form-inline">
      <label for="inputRubro" class="form-label mr-4">RUBRO </label>
      <input type="text " [(ngModel)]="busquedaRubro" class="form-control " placeholder="ingrese rubro "
             (keyup)="filtrarArticuloRubro(event)" id="inputRubro">
    </div>
  </div>

  <div class="row">
    <table class=" table table-hover container">
      <thead class="thead-dark ">
      <tr class="text-center d-flex col-md-12 p-0">
        <th class="col-1">CODIGO</th>
        <th class="col-3">NOMBRE</th>
        <th class="col-1">ABREVIATURA</th>
        <th class="col-1">STOCK MIN</th>
        <th class="col-1">STOCK MAX</th>
        <th class="col-1">UNID. MED</th>
        <th class="col-2">RUBRO</th>
        <th class="col-2">OPCIONES</th>
      </tr>
      </thead>
      <tbody *ngIf="articulos !=null " class="tbody-scroll">
      <tr *ngFor="let articulo of articulosFilter " class="text-center d-flex col-md-12 p-0">
        <td class="col-1">{{articulo.codigoArt}}</td>
        <td class="col-3">{{articulo.nombre}}</td>
        <td class="col-1">{{articulo.abreviatura}}</td>
        <td class="col-1">{{articulo.stockMin}}</td>
        <td class="col-1">{{articulo.stockMax}}</td>
        <td class="col-1" *ngIf="articulo.unidadMedidaId==null "></td>
        <td class="col-1" *ngIf="articulo.unidadMedidaId !=null ">{{articulo.unidadMedidaId.abreviatura}}</td>
        <td class="col-2" *ngIf="articulo.rubroId==null "></td>
        <td class="col-2" *ngIf="articulo.rubroId !=null ">{{articulo.rubroId.nombre}}</td>
        <td class="col-2">
          <button class=" col-1 btn btn-default " title="Modificar " (click)="modificarArticulo(articulo) ">
            <svg width="14 " height="16 " viewBox="0 0 14 16 ">
              <path fill-rule="evenodd " d="M0 12v3h3l8-8-3-3-8 8zm3 2H1v-2h1v1h1v1zm10.3-9.3L12 6 9 3l1.3-1.3a.996.996 0 0 1 1.41 0l1.59 1.59c.39.39.39
                    1.02 0 1.41z "/>
            </svg>
          </button>
          <button class="btn btn-default col-1 " title="Eliminar " style="margin-left: 10px; "
                  (click)="deshabilitarArticulo(articulo) ">
            <svg width="12 " height="16 " viewBox="0 0 12 16 ">
              <path fill-rule="evenodd " d="M7.48 8l3.75 3.75-1.48 1.48L6 9.48l-3.75 3.75-1.48-1.48L4.52 8 .77 4.25l1.48-1.48L6 6.52l3.75-3.75 1.48 1.48L7.48
                    8z "/>
            </svg>
          </button>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
